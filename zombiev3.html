<script>
class enfermedad {
    constructor(contagio) {
        this.contagio = contagio;

    }
get GetContagio(){
    return this.contagio;
}
}
class lugares {
    constructor(resistencia) {
        this.resistencia=resistencia;
    }
get GetResistencia(){
    return this.resistencia;
}
}
let choice = (capacidad, resistencia) => {
    let patogeno = null;
    let continente = null;
    switch(resistencia){
        case "Africa":
        continente=new lugares("Baja");
            if(capacidad==="Bacteria"){
            patogeno=new enfermedad("Bajo");
            }
            else {
            patogeno=new enfermedad("Alto");
            }
        break;
        case "Asia":
        continente=new lugares("Media");
            if(capacidad==="Bacteria"){
                patogeno=new enfermedad("Bajo");
            }
            else{
                patogeno=new enfermedad("Alto");
            }
        break;
        case "Norteamerica":
        continente=new lugares("Alta");
            if(capacidad==="Bacteria") {
                patogeno=new enfermedad("Bajo");
            }
            else {
                patogeno=new enfermedad("Alto");
            }
        }
    return [patogeno.GetContagio, continente.GetResistencia];
        
    }
/*if (capacidad === "Bacteria" && resistencia === "Africa") {
    patogeno=new enfermedad("Bajo");
    continente=new lugares("Baja");
} else if (capacidad === "Bacteria" && resistencia === "Asia") {
    patogeno=new enfermedad("Bajo");
    continente=new lugares("Media");
} else if (capacidad === "Bacteria" && resistencia === "Norteamerica") {
    patogeno=new enfermedad("Bajo");
    continente=new lugares("Alta");
} else if (capacidad === "Virus" && resistencia === "Africa") {
    patogeno=new enfermedad("Alto");
    continente=new lugares("Baja");
} else if (capacidad === "Virus" && resistencia === "Asia") {
    patogeno=new enfermedad("Alto");
    continente=new lugares("Media");
} else if (capacidad === "Virus" && resistencia === "Norteamerica") {
    patogeno=new enfermedad("Alto");
    continente=new lugares("Alta");

}*/


function infectar(enfermedad_,lugares_) {
    let vacuna = 1;
    let probabilidad = 0;
    let probabilidadAltaBaja = 15;
    let probabilidadAltaAlta = 45;
    let probabilidadAltaMedia = 30;
    let probabilidadBajaBaja = 60;
    let probabilidadBajaMedia = 70;
    let probabilidadBajaAlta = 80;
    do {
    if (enfermedad_ === "Alto" && lugares_ === "Baja") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadAltaBaja;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadAltaBaja *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadAltaBaja *= vacuna;
        }
        console.log(randomNum)
        console.log(probabilidadAltaBaja)
        probabilidad = probabilidadAltaBaja
    }   else if (enfermedad_ === "Alto" && lugares_ === "Alta") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadAltaAlta;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadAltaAlta *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadAltaAlta *= vacuna;
        }
        console.log(randomNum)
        console.log(probabilidadAltaAlta)
        probabilidad = probabilidadAltaAlta
    } else if (enfermedad_ === "Alto" && lugares_ === "Media") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadAltaMedia;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadAltaMedia *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadAltaMedia *= vacuna;
        }
        console.log(randomNum)
        console.log(probabilidadAltaMedia)
        probabilidad = probabilidadAltaMedia
    } else if (enfermedad_ === "Bajo" && lugares_ === "Baja") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadBajaBaja;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadBajaBaja *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadBajaBaja *= vacuna;
        }
        console.log(randomNum)
        console.log(probabilidadBajaBaja)
        probabilidad = probabilidadBajaBaja
    } else if (enfermedad_ === "Bajo" && lugares_ === "Media") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadBajaMedia;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadBajaMedia *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadBajaMedia *= vacuna;
        }
        console.log(randomNum)
        console.log(probabilidadBajaMedia)
        probabilidad = probabilidadBajaMedia
    } else if (enfermedad_ === "Bajo" && lugares_ === "Alta") {
        let randomNum = Math.floor(Math.random() * 100)
        console.log(randomNum);
        let infeccion = randomNum > probabilidadBajaAlta;
        if (infeccion) {
            console.log("infectado")
            vacuna *= 0.90;
            probabilidadBajaAlta *= vacuna;
        } else if (!infeccion) {
            console.log("no infectado")
            vacuna *= 1.10
            probabilidadBajaAlta *= vacuna;
        }
        console.log(probabilidadBajaAlta)
        probabilidad = probabilidadBajaAlta
    }
    }
while (probabilidad > 1 && probabilidad < 90);
if (probabilidad < 1) console.log("Toda la humanidad ha sido infectada")
else console.log("La humanidad ha conseguido detener la infecciÃ³n")
}

let capacidad = prompt("Introduce tipo de enfermedad: \n -Bacteria \n -Virus");
let resistencia = prompt("Elige un continente: \n -Africa \n -Norteamerica \n -Asia")
let choiceResult = choice(capacidad, resistencia)
infectar(choiceResult[0], choiceResult[1])

</script>

